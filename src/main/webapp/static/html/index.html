<!DOCTYPE html>
<html ng-app="app">
<head>
	<title>Catholicon - better BDBL</title>
	
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-route.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-resource.js"></script>
	<script src="../script/dataController.js"></script>
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<link href="https://fonts.googleapis.com/css?family=Titillium+Web|Open+Sans+Condensed:300" rel="stylesheet">
	
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="../style/w3.css">
	<link rel="stylesheet" type="text/css" href="../style/common.css">
	<link rel="stylesheet" type="text/css" href="../style/match.css">
	<link rel="stylesheet" type="text/css" href="../style/league.css">
	<link rel="stylesheet" type="text/css" href="../style/matchCard.css">
	<link rel="stylesheet" type="text/css" href="../style/loadingAnimation.css">
</head>
<body>

<nav class="w3-sidenav w3-collapse" style="width:200px; background-color:#1881d4; color:white" id="mySidenav">
	<a href="javascript:void(0)" onclick="w3_close()" class="w3-closenav w3-hide-large rd-nav-close">Close &times;</a> 
	<a href="#/" onclick="w3_close()" class="" style="font-size:105%; background-color:coral">Home</a>
	<div ng-controller="seasonListController">
		<a ng-repeat="season in seasons.seasons" onclick="w3_close()"
			href="#/season/{{season.seasonStartYear == seasons.currentSeason ? 0 : season.seasonStartYear}}/">
			{{season.seasonStartYear}}
		</a>
	</div> 
</nav>
<script>
	function w3_open() {
	  document.getElementById("mySidenav").style.display = "block";
	}
	function w3_close() {
	  document.getElementById("mySidenav").style.display = "none";
	}
</script>

<div class="w3-main" style="margin-left:200px">
	<span class="w3-opennav w3-hide-large" onclick="w3_open()">&#9776;</span>
	
	<span class="siteTitle">Catholicon - <i>Better BDBL</i></span>
	
	<div id="thinking" ng-class="contentLoading ? 'slide-in' : 'slide-out'" 
			class="thinking w3-round-large w3-leftbar w3-rightbar w3-border-orange" ng-controller="thinkingController">
		<img alt="Loading..."
			height="50px" 
			src="../img/loading.gif">
	</div>
	
	<div id="error" ng-class="errorOccurred ? 'slide-in' : ''" class="" ng-controller="errorController">
		<img alt="Error"
			height="50px" 
			src="../img/error.gif"/>
		<p class="w3-closebtn" ng-click="errorOccurred = false">&times;</p>
	</div>
	

	<!-- Placeholder for views -->
	<ng-view/>
	
	<script>
		myApp.config(function ($routeProvider) {
			$routeProvider
				.when('/season/:season', 
					{
						templateUrl: 'partials/leagueList.html',
						controller: 'leagueListController'
					})
				.when('/season/:season/matches/:teamId/list',
					{
						templateUrl: 'partials/matches.html',
						controller: 'matchListController'
					})
				.when('/season/:season/league/:leagueTypeId/divisions',
					{
						templateUrl: 'partials/divisionList.html',
						controller: 'leagueDivisionListController'
					})
				.when('/season/:season/league/:league/report',
					{
						templateUrl: 'partials/playerReport.html',
						controller: 'playerReportController'
					})
				.when('/season/:season/league/:leagueTypeId/division/:divisionId', 
					{
						templateUrl: 'partials/division.html',
						controller: 'divisionController'
					})
				.when('/matchcard/:fixtureId',
					{
						templateUrl: 'partials/matchCard.html',
						controller: 'matchCardController'
					})
				.when('/',
					{
						templateUrl: 'partials/frontPage.html',
						controller: 'frontPageController'
					})
				.otherwise({ redirectTo: '#/'});
		});
		
	</script>
</div>
	
</body>
</html>
