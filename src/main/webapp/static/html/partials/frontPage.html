<div ng-controller="frontPageController" class="padToBelowHeader">
	
	<div id="filterInfo" ng-show="frontPageFilter"
			ng-class="showFilteringMsg ? 'slide-in-from-right' : 'slide-out-from-right'"
			ng-style="filteringMsgVisible ? {display: 'block'} : {display: 'none'}"
			class="w3-panel w3-blue w3-card-8">
		<img src="../img/filter_white.png" width="30px" alt="filter"/>
		<div class="filter-writing">
			Filter: '{{frontPageFilter}}'
		</div>
	</div>
	
	<fixture-details-directive>
	</fixture-details-directive>
	
	<div ng-if="frontPageFilter && filteredixtures.length" class="w3-left w3-small w3-margin" 
		translate="FILTER_MATCH_COUNT"
		translate-values="{ term: frontPageFilter, count: filteredixtures.length }"
		ng-cloak>
	</div>
	
	<div class="w3-right">
		<img ng-click="showFilter = !showFilter" src="../img/filter.png" alt="home" 
			style="width: 30px; margin-top:10px; padding:3px" class="w3-dropdown-hover w3-white">
		<div id="filterForm" class="w3-dropdown-click w3-right" ng-init="showFilter=false;">
		  <div ng-class="showFilter ? 'w3-show' : ''" class="w3-dropdown-content w3-panel w3-card-8" 
		  		style="width:300px; right:0">
		    <form class="w3-container w3-margin-bottom">
				<input class="w3-input" ng-model="frontPageFilter" name="fixtureFilter"/>
				<label class="w3-xlarge w3-label w3-validate">Filter teams</label>
			</form>
		  </div>
		</div>
	</div>
	
	<div ng-class="recentMatches.length ? 'w3-right w3-medium w3-margin' : 'w3-hide'" style="padding-top: 3px"
		ng-click="recentMatchesToggle = !recentMatchesToggle">
		<span class="w3-badge w3-red">{{recentMatches.length}}</span>
	</div>
	
	
	<div class="w3-panel w3-card-3" style="padding: 0">
		<div id="recentMatchesAccordion" ng-class="recentMatchesToggle ? 'w3-animate-zoom' : 'w3-hide'" ngcloak>
		  <div ng-repeat="match in recentMatches" class="w3-row w3-padding-small">
		  	<a href="#/matchcard/{{match.fixtureId}}">
			    <div class="w3-col s4 w3-small">{{match.homeTeamName}}</div> 
			    <div class="w3-col s2 w3-small w3-center">v </div>
			    <div class="w3-col s4 w3-small">{{match.awayTeamName}}</div>
			    <div class="w3-col s2 w3-small w3-center" 
			    	ng-class="match.unConfirmed ? 'w3-red' : 'w3-blue'">
			    	{{match.scoreExtracted}}
			    </div>
		    </a>
		  </div>
		</div>
	</div>
	
	
	
	<ul class="w3-ul w3-card-4">
		<li ng-repeat="fixture in filteredixtures = (upcomingFixtures | filter: frontPageFilter)" class="frontPageItem w3-padding-16">
			<div class="calendar">
				{{fixture.fixtureDate | date: 'dd'}} 
				<em>{{fixture.fixtureDate | date: 'MMM'}}</em>
			</div>
		    <div class="w3-large rd-80px-leftmargin">{{fixture.homeTeamName}}</div>
		    <img src="../img/info.png" ng-click="showFixture(fixture.fixtureId)" class="frontPageInfoIcon"/>
		    <div class="w3-large rd-80px-leftmargin">{{fixture.awayTeamName}}</div>
		    <div class="w3-small rd-80px-leftmargin w3-left" style="margin-bottom: 10px;">{{fixture.fixtureDate | date: 'EEEE'}}</div>
		    
		    <nice-date date="fixture.fixtureDate"/>
		</li>
	</ul>
	
	<div ng-show="upcomingFixtures.length > 0 && filteredixtures.length < 1" class="w3-medium w3-padding-4 w3-center" ng-cloak>
		<div class="emptyImage">
			<img src="../img/empty.jpg" />
		</div>
		<div class="emptyText">
			<p>Your filter '{{frontPageFilter}}' is hiding all {{upcomingFixtures.length}} upcoming fixtures</p>
		</div>
	</div>
	
	<div id="offSeason" ng-hide="upcomingFixtures.length" ng-class="upcomingFixtures.length ? 'w3-medium w3-padding-4 w3-center' : 'w3-hide'">
		<div class="emptyImage">
			<img src="../img/empty.jpg"/>
		</div>
		<div class="emptyText">
			<p>There are no upcoming fixtures - looks like we are off season!</p>
		</div>
	</div>
</div>